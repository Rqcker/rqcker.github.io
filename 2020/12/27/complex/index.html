<!DOCTYPE html>
<html lang="default">
<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="Junhao">



    <meta name="description" content="Junhao Personal Webpages">



<title>Function and Operator Overloading for Complex Numbers in C++ | Junhao Song</title>



    <link rel="icon" href="/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    
    <script src="/js/404/bodymovin.js"></script>
    
    <script src="/js/404/data.js"></script>
    



    
    
        
    


<meta name="generator" content="Hexo 5.3.0"></head>
<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">Junhao&#39;s Webpages</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/about">About</a>
                
                    <a class="menu-item" href="/activities">Activities</a>
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/projects">Projects</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>
        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">Junhao&#39;s Webpages</a><a id="mobile-toggle-theme">·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/about">About</a>
                
                    <a class="menu-item" href="/activities">Activities</a>
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/projects">Projects</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
        <div class="main">
            <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "Collapse all"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "Expand all"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">Function and Operator Overloading for Complex Numbers in C++</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">Junhao</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">27th December, 2020&nbsp;&nbsp;18:54:59</a>
                        </span>
                    
                    
                        <span class="post-category">
                    Category:
                            
                                <a href="/categories/Algorithm/">Algorithm</a>
                            
                        </span>
                    
                </div>
            
        </header>

        <div class="post-content">
            <h1 id="1-What-is-Overloading"><a href="#1-What-is-Overloading" class="headerlink" title="1. What is Overloading?"></a>1. What is Overloading?</h1><p>Many textbook explanations and online definitions can be difficult to understand. In my own words:</p>
<p>C++ allows multiple definitions of functions and operators, similar to a word having multiple meanings. This is known as <strong>function overloading</strong> and <strong>operator overloading</strong>. You can use functions with the same name or the same operator to achieve different effects.</p>
<h2 id="1-Function-Overloading-in-C"><a href="#1-Function-Overloading-in-C" class="headerlink" title="(1) Function Overloading in C++"></a>(1) Function Overloading in C++</h2><p>In the same scope, there can be a group of functions with the same name but different parameter lists. These functions are similar in purpose, but their parameters differ. Such a group of functions is called <strong>overloaded functions</strong>.</p>
<p><strong>Role</strong>: Function overloading reduces the number of unique function names, preventing name-space pollution and improving the readability of the code.</p>
<h2 id="2-Operator-Overloading-in-C"><a href="#2-Operator-Overloading-in-C" class="headerlink" title="(2) Operator Overloading in C++"></a>(2) Operator Overloading in C++</h2><p>In C++ programs, we can redefine and overload many built-in operators, allowing for custom behaviour. Overloaded operators must have special function names, using the keyword <strong>operator</strong>. The keyword <strong>operator</strong> must be followed by the symbol of the operator to be overloaded, along with a return type and a parameter list, as shown below:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ComplexNumber <span class="keyword">operator</span>+(ComplexNumber z);</span><br></pre></td></tr></table></figure>
<p>However, certain operators in C++ <strong>cannot be overloaded</strong>. The following table lists non-overloadable operators:</p>
<table>
<thead>
<tr>
<th>Non-overloadable operator</th>
<th>Statement</th>
</tr>
</thead>
<tbody><tr>
<td>.</td>
<td>Member access operator</td>
</tr>
<tr>
<td>.* and -&gt;*</td>
<td>Member pointer access operator</td>
</tr>
<tr>
<td>::</td>
<td>Scope resolution operator</td>
</tr>
<tr>
<td>sizeof</td>
<td>Length operator</td>
</tr>
<tr>
<td>?:</td>
<td>Conditional operator</td>
</tr>
<tr>
<td>#</td>
<td>Preprocessor symbol</td>
</tr>
</tbody></table>
<h1 id="2-Complex-Numbers-Partial-Knowledge"><a href="#2-Complex-Numbers-Partial-Knowledge" class="headerlink" title="2. Complex Numbers (Partial Knowledge)"></a>2. Complex Numbers (Partial Knowledge)</h1><h2 id="1-Definition-and-Concept-of-Complex-Numbers"><a href="#1-Definition-and-Concept-of-Complex-Numbers" class="headerlink" title="(1) Definition and Concept of Complex Numbers"></a>(1) Definition and Concept of Complex Numbers</h2><p>A complex number is expressed in the form <strong>a + bi</strong>, where <strong>a</strong> and <strong>b</strong> are <strong>real numbers</strong>, and <strong>i</strong> represents the solution to the equation x² = -1. Since no real number satisfies this equation, <strong>i</strong> is known as an <strong>imaginary number</strong>. In the complex number a + bi, <strong>a</strong> is the <strong>real part</strong>, and <strong>b</strong> is the <strong>imaginary part</strong>. Despite the historical term “imaginary,” complex numbers are as “real” as real numbers in the mathematical sciences and form the foundation of many scientific descriptions of natural phenomena.</p>
<div style="text-align: center">
<img src="https://raw.githubusercontent.com/Rqcker/ImageHosting/master/blog/blog0/complexGraph.png"/>
</div>

<p>Complex numbers can solve certain equations that have no real-number solutions. For example, the equation (x + 1)² = -9 has no real-number solution because the square of a real number cannot be negative. However, complex numbers extend real numbers with the imaginary unit <strong>i</strong>, satisfying <strong>i² = -1</strong>, which enables us to find the solutions: -1 + 3i and -1 - 3i.</p>
<h2 id="2-Geometric-Representation-of-Complex-Numbers"><a href="#2-Geometric-Representation-of-Complex-Numbers" class="headerlink" title="(2) Geometric Representation of Complex Numbers"></a>(2) Geometric Representation of Complex Numbers</h2><p>Geometrically, complex numbers extend the concept of a one-dimensional number line to a two-dimensional complex plane, where the horizontal axis represents the real part and the vertical axis represents the imaginary part. A complex number a + bi can be represented as the point (a, b) in the complex plane. Complex numbers with a real part of zero are called <strong>pure imaginary numbers</strong> and are represented as points on the vertical axis. Conversely, complex numbers with an imaginary part of zero are regarded as real numbers and are represented on the horizontal axis. Complex numbers can also be expressed in polar coordinates, which associate each complex number with its distance from the origin (its magnitude) and a specific angle (called the argument).</p>
<div style="text-align: center">
<img src="https://raw.githubusercontent.com/Rqcker/ImageHosting/master/blog/blog0/re.png"/>
</div>

<p>Complex numbers can be represented visually as a vector in the complex plane. “Re” is the real axis, and “Im” is the imaginary axis, with <strong>i</strong> satisfying <strong>i² = -1</strong>. The key points are:</p>
<ol>
<li>The complex number z = a + bi corresponds to the point (a, b) in the complex plane.</li>
<li>The complex number z = a + bi corresponds to the vector OZ, where the coordinates of point Z are (a, b).</li>
</ol>
<h2 id="3-Addition-and-Subtraction-of-Complex-Numbers"><a href="#3-Addition-and-Subtraction-of-Complex-Numbers" class="headerlink" title="(3) Addition and Subtraction of Complex Numbers"></a>(3) Addition and Subtraction of Complex Numbers</h2><p><strong>Addition of two complex numbers</strong>:</p>
<p>[<br>(x + yi) + (u + vi) = (x + u) + (y + v)i<br>]</p>
<p><strong>Subtraction of two complex numbers</strong>:</p>
<p>[<br>(x + yi) - (u + vi) = (x - u) + (y - v)i<br>]</p>
<p>Geometrically, we can visualise the addition of two complex numbers by constructing a parallelogram. In the complex plane, the sum of two complex numbers <strong>a</strong> and <strong>b</strong> corresponds to a point obtained by constructing a parallelogram with the vectors <strong>O</strong>, <strong>a</strong>, and <strong>b</strong> as three vertices. The point <strong>X</strong> forms the fourth vertex of the parallelogram, with triangles <strong>OAB</strong> and <strong>XBA</strong> being congruent. The visualisation of subtraction can be achieved by considering negative vectors.</p>
<div style="text-align: center">
<img src="https://raw.githubusercontent.com/Rqcker/ImageHosting/master/blog/blog0/ab.png"/>
</div>

<h2 id="4-Multiplication-and-Division-of-Complex-Numbers"><a href="#4-Multiplication-and-Division-of-Complex-Numbers" class="headerlink" title="(4) Multiplication and Division of Complex Numbers"></a>(4) Multiplication and Division of Complex Numbers</h2><p><strong>Multiplication of complex numbers</strong>:</p>
<p>[<br>(x + yi) \times (u + vi) = (xu - yv) + (xv + yu)i<br>]</p>
<p><strong>Division of complex numbers</strong>:<br>To divide complex numbers, we use the <strong>conjugate</strong>. Conjugate complex numbers have equal real parts and opposite imaginary parts. If the imaginary part is zero, the conjugate complex number is itself. The conjugate of a complex number z is denoted as (\overline{z}) (or sometimes as Z*). The conjugate is used in the formula for calculating the reciprocal of a non-zero complex number:</p>
<div style="text-align: center">
<img src="https://raw.githubusercontent.com/Rqcker/ImageHosting/master/blog/blog0/z.png"/>
</div>

<p>This can be used to represent the division of any complex number (where z is not equal to 0):</p>
<div style="text-align: center">
<img src="https://raw.githubusercontent.com/Rqcker/ImageHosting/master/blog/blog0/wz.png"/>
</div>

<h1 id="3-Friend-Function-in-C"><a href="#3-Friend-Function-in-C" class="headerlink" title="3. Friend Function in C++"></a>3. Friend Function in C++</h1><p>A friend function is not a member of a class but can access all of the class’s members. It is granted the privilege to access private and protected members of a class. A <strong>friend</strong> can be either a function or a class, and we call them <strong>friend functions</strong> and <strong>friend classes</strong>, respectively. Since the friend class concept is not relevant to our current project, we will not explore it here.</p>
<p><strong>Role</strong>: Suppose you are a developer working with a library project and wish to practise accessing its code. Often, private and protected members are not accessible. However, if the class includes a friend function, it means that you can access those members via that function.</p>
<p><strong>Keyword</strong>: <strong>friend</strong><br>To declare a function as a friend of a class, use the <strong>friend</strong> keyword before the function definition in the class declaration, as shown below:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">friend</span> ComplexNumber <span class="keyword">operator</span>+(<span class="keyword">const</span> <span class="keyword">float</span> a, <span class="keyword">const</span> ComplexNumber &amp;z);</span><br></pre></td></tr></table></figure>
<h1 id="4-Design-and-Implementation"><a href="#4-Design-and-Implementation" class="headerlink" title="4. Design and Implementation"></a>4. Design and Implementation</h1><h2 id="1-Program-Structure-and-Design-Concept"><a href="#1-Program-Structure-and-Design-Concept" class="headerlink" title="(1) Program Structure and Design Concept"></a>(1) Program Structure and Design Concept</h2><p>For this program, I first created a complex number class. In the private members of the class, I used double-precision floating-point numbers to define the real and imaginary parts. I also provided overloaded functions as public members to allow users to input the real and imaginary parts into the system. Three cases are considered: both the real and imaginary parts are given, neither is given, or only the imaginary part is provided. By default, both the real and imaginary parts are initialised to zero.</p>
<p>In the public members, I also included a function for adding the real and imaginary parts, enabling the storage and conversion of values. The setting function operates similarly. Additionally, I wrote an output function that includes a conditional statement to check whether the imaginary part is greater than or equal to zero, preventing redundant negative signs in the output.</p>
<p>Finally, I implemented overloading for the four basic arithmetic operations as well as the input and output operators. The addition operator is overloaded in two different ways. (While class templates may also be an option, here I focus on overloading functions and operators.) Input, output, and addition are implemented as friend functions to allow direct access to private members. A test function is then written outside the class, which is invoked in the main function.</p>
<h2 id="2-Correspondence-between-Functions-and-Source-Code"><a href="#2-Correspondence-between-Functions-and-Source-Code" class="headerlink" title="(2) Correspondence between Functions and Source Code"></a>(2) Correspondence between Functions and Source Code</h2><p>When outputting, a check is performed to determine whether the imaginary part is greater than or equal to zero to prevent redundant negative signs.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ComplexNumber::Show</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(im&gt;=<span class="number">0</span>)</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt;<span class="string">&quot;(&quot;</span>&lt;&lt; re &lt;&lt; <span class="string">&quot;+&quot;</span> &lt;&lt; im &lt;&lt;<span class="string">&quot;i)&quot;</span>;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt;<span class="string">&quot;(&quot;</span>&lt;&lt; setiosflags(ios::fixed) &lt;&lt; setprecision(<span class="number">2</span>) &lt;&lt; re &lt;&lt; <span class="string">&quot;+&quot;</span> &lt;&lt; im &lt;&lt; <span class="string">&quot;i&quot;</span> &lt;&lt;<span class="string">&quot;)&quot;</span>;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>Implementation of complex multiplication (overload of multiplication operator):</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ComplexNumber ComplexNumber::<span class="keyword">operator</span> *(ComplexNumber z)</span><br><span class="line">&#123;</span><br><span class="line">	ComplexNumber tmp;</span><br><span class="line">	tmp.re=re*z.re-(im*z.im);</span><br><span class="line">	tmp.im=im*z.re+re*z.im;</span><br><span class="line">	<span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Implementation of complex division operation (overload of division operator):</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ComplexNumber ComplexNumber::<span class="keyword">operator</span>/(ComplexNumber z)</span><br><span class="line">&#123;</span><br><span class="line">	ComplexNumber tmp;</span><br><span class="line">	tmp.re=(re*z.re+im*z.im)/(z.re*z.re+z.im*z.im);</span><br><span class="line">	tmp.im=(im*z.re-re*z.im)/(z.re*z.re+z.im*z.im);</span><br><span class="line">	<span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Overloading of output operators：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ostream &amp; <span class="keyword">operator</span> &lt;&lt; (ostream &amp; a,<span class="keyword">const</span> ComplexNumber &amp; z)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span>(z.re==<span class="number">0</span>&amp;&amp;z.im==<span class="number">0</span>)a &lt;&lt; setiosflags(ios::fixed) &lt;&lt; setprecision(<span class="number">0</span>) &lt;&lt; z.re;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(z.im==<span class="number">0</span>)a &lt;&lt; setiosflags(ios::fixed) &lt;&lt; setprecision(<span class="number">0</span>) &lt;&lt; z.re ;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(z.im&gt;<span class="number">0</span>)</span><br><span class="line">	a &lt;&lt; setiosflags(ios::fixed) &lt;&lt; setprecision(<span class="number">2</span>) &lt;&lt; z.re &lt;&lt; <span class="string">&quot;+&quot;</span> &lt;&lt; z.im &lt;&lt; <span class="string">&quot;i&quot;</span>;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(z.im&lt;<span class="number">0</span>)</span><br><span class="line">	a &lt;&lt; setiosflags(ios::fixed) &lt;&lt; setprecision(<span class="number">2</span>) &lt;&lt; z.re &lt;&lt; z.im &lt;&lt; <span class="string">&quot;i&quot;</span>;</span><br><span class="line">	<span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Test input function:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CN</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">    <span class="comment">//ComplexNumber</span></span><br><span class="line">	ComplexNumber cn1, cn2;</span><br><span class="line">	<span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; cn1 &gt;&gt; cn2;</span><br><span class="line">	<span class="built_in">std</span>::<span class="built_in">cout</span>&lt;&lt;cn1+cn2 &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">std</span>::<span class="built_in">cout</span>&lt;&lt;cn1 - cn2 &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">std</span>::<span class="built_in">cout</span>&lt;&lt;cn1*cn2 &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">std</span>::<span class="built_in">cout</span>&lt;&lt;cn1 / cn2 &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-Overall-source-code"><a href="#3-Overall-source-code" class="headerlink" title="(3). Overall source code"></a>(3). Overall source code</h2><p>The overall source code is as follows:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ComplexNumber</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">double</span> im,re;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	ComplexNumber(<span class="keyword">double</span> i=<span class="number">0</span>, <span class="keyword">double</span> r=<span class="number">0</span>);</span><br><span class="line"><span class="comment">//	ComplexNumber();</span></span><br><span class="line"><span class="comment">//	ComplexNumber(int i);</span></span><br><span class="line">    <span class="function">ComplexNumber <span class="title">Add</span><span class="params">(ComplexNumber z)</span></span>; </span><br><span class="line">    ComplexNumber <span class="keyword">operator</span>+(ComplexNumber z);</span><br><span class="line">    <span class="keyword">friend</span> ComplexNumber <span class="keyword">operator</span>+(<span class="keyword">const</span> <span class="keyword">float</span> a, <span class="keyword">const</span> ComplexNumber &amp;z);</span><br><span class="line">    <span class="keyword">friend</span> istream &amp; <span class="keyword">operator</span> &gt;&gt; (istream &amp; b, ComplexNumber &amp;z);</span><br><span class="line">    <span class="keyword">friend</span> ostream &amp; <span class="keyword">operator</span> &lt;&lt; (ostream &amp; a,<span class="keyword">const</span> ComplexNumber &amp; z);</span><br><span class="line">    ComplexNumber <span class="keyword">operator</span>-(ComplexNumber z);</span><br><span class="line">    ComplexNumber <span class="keyword">operator</span>*(ComplexNumber z);</span><br><span class="line">    ComplexNumber <span class="keyword">operator</span>/(ComplexNumber z);</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">Set</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">double</span> y)</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">Show</span><span class="params">()</span></span>;</span><br><span class="line">	</span><br><span class="line">&#125;;</span><br><span class="line">ComplexNumber::ComplexNumber(<span class="keyword">double</span> i, <span class="keyword">double</span> r)</span><br><span class="line">&#123;</span><br><span class="line">	im=r;</span><br><span class="line">	re=i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*ComplexNumber::ComplexNumber()</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">	im=0;</span></span><br><span class="line"><span class="comment">	re=0;</span></span><br><span class="line"><span class="comment">&#125; </span></span><br><span class="line"><span class="comment">ComplexNumber::ComplexNumber(int i)</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">	im=i;</span></span><br><span class="line"><span class="comment">	re=0;</span></span><br><span class="line"><span class="comment">&#125;*/</span> </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ComplexNumber::Show</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(im&gt;=<span class="number">0</span>)</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt;<span class="string">&quot;(&quot;</span>&lt;&lt; re &lt;&lt; <span class="string">&quot;+&quot;</span> &lt;&lt; im &lt;&lt;<span class="string">&quot;i)&quot;</span>;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt;<span class="string">&quot;(&quot;</span>&lt;&lt; setiosflags(ios::fixed) &lt;&lt; setprecision(<span class="number">2</span>) &lt;&lt; re &lt;&lt; <span class="string">&quot;+&quot;</span> &lt;&lt; im &lt;&lt; <span class="string">&quot;i&quot;</span> &lt;&lt;<span class="string">&quot;)&quot;</span>;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function">ComplexNumber <span class="title">ComplexNumber::Add</span><span class="params">(ComplexNumber z)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ComplexNumber tmp;</span><br><span class="line">	tmp.re=re+z.re;</span><br><span class="line">	tmp.im=im+z.im;</span><br><span class="line">	<span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line">ComplexNumber ComplexNumber::<span class="keyword">operator</span> +(ComplexNumber z)</span><br><span class="line">&#123;</span><br><span class="line">	ComplexNumber tmp;</span><br><span class="line">	tmp.re=re+z.re;</span><br><span class="line">	tmp.im=im+z.im;</span><br><span class="line">	<span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line">ComplexNumber <span class="keyword">operator</span> +(<span class="keyword">const</span> <span class="keyword">float</span> a,<span class="keyword">const</span> ComplexNumber &amp;z)</span><br><span class="line">&#123;</span><br><span class="line">	ComplexNumber tmp;</span><br><span class="line">	tmp.re=a+z.re;</span><br><span class="line">	tmp.im=z.im;</span><br><span class="line">	<span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line">ComplexNumber ComplexNumber::<span class="keyword">operator</span> -(ComplexNumber z)</span><br><span class="line">&#123;</span><br><span class="line">	ComplexNumber tmp;</span><br><span class="line">	tmp.re=re-z.re;</span><br><span class="line">	tmp.im=im-z.im;</span><br><span class="line">	<span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line">ComplexNumber ComplexNumber::<span class="keyword">operator</span> *(ComplexNumber z)</span><br><span class="line">&#123;</span><br><span class="line">	ComplexNumber tmp;</span><br><span class="line">	tmp.re=re*z.re-(im*z.im);</span><br><span class="line">	tmp.im=im*z.re+re*z.im;</span><br><span class="line">	<span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line">ComplexNumber ComplexNumber::<span class="keyword">operator</span>/(ComplexNumber z)</span><br><span class="line">&#123;</span><br><span class="line">	ComplexNumber tmp;</span><br><span class="line">	tmp.re=(re*z.re+im*z.im)/(z.re*z.re+z.im*z.im);</span><br><span class="line">	tmp.im=(im*z.re-re*z.im)/(z.re*z.re+z.im*z.im);</span><br><span class="line">	<span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">ComplexNumber::Set</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">double</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	im=y;</span><br><span class="line">	re=x;</span><br><span class="line">	<span class="keyword">return</span> im,re;</span><br><span class="line">&#125;</span><br><span class="line">istream &amp; <span class="keyword">operator</span>&gt;&gt;(istream &amp; b, ComplexNumber &amp;z)</span><br><span class="line">&#123;</span><br><span class="line">	b &gt;&gt; z.re &gt;&gt; z.im;</span><br><span class="line">	<span class="keyword">return</span> b;</span><br><span class="line">&#125;</span><br><span class="line">ostream &amp; <span class="keyword">operator</span> &lt;&lt; (ostream &amp; a,<span class="keyword">const</span> ComplexNumber &amp; z)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span>(z.re==<span class="number">0</span>&amp;&amp;z.im==<span class="number">0</span>)a &lt;&lt; setiosflags(ios::fixed) &lt;&lt; setprecision(<span class="number">0</span>) &lt;&lt; z.re;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(z.im==<span class="number">0</span>)a &lt;&lt; setiosflags(ios::fixed) &lt;&lt; setprecision(<span class="number">0</span>) &lt;&lt; z.re ;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(z.im&gt;<span class="number">0</span>)</span><br><span class="line">	a &lt;&lt; setiosflags(ios::fixed) &lt;&lt; setprecision(<span class="number">2</span>) &lt;&lt; z.re &lt;&lt; <span class="string">&quot;+&quot;</span> &lt;&lt; z.im &lt;&lt; <span class="string">&quot;i&quot;</span>;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(z.im&lt;<span class="number">0</span>)</span><br><span class="line">	a &lt;&lt; setiosflags(ios::fixed) &lt;&lt; setprecision(<span class="number">2</span>) &lt;&lt; z.re &lt;&lt; z.im &lt;&lt; <span class="string">&quot;i&quot;</span>;</span><br><span class="line">	<span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CN</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">    <span class="comment">//ComplexNumber</span></span><br><span class="line">	ComplexNumber cn1, cn2;</span><br><span class="line">	<span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; cn1 &gt;&gt; cn2;</span><br><span class="line">	<span class="built_in">std</span>::<span class="built_in">cout</span>&lt;&lt;cn1+cn2 &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">std</span>::<span class="built_in">cout</span>&lt;&lt;cn1 - cn2 &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">std</span>::<span class="built_in">cout</span>&lt;&lt;cn1*cn2 &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">std</span>::<span class="built_in">cout</span>&lt;&lt;cn1 / cn2 &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	CN();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Copyright Notice</strong><br>This article, except for the referenced content below, is the original work of <strong>Junhao</strong>. The author retains the exclusive rights to its final interpretation. If there are any issues regarding copyright infringement, please contact me for removal. Reproduction or distribution of this content without my explicit permission is prohibited.</p>
<h1 id="5-References"><a href="#5-References" class="headerlink" title="5. References"></a>5. References</h1><p>[1]. <strong>CppReference</strong> <a target="_blank" rel="noopener" href="https://en.cppreference.com/w/cpp/language/operators">https://en.cppreference.com/w/cpp/language/operators</a></p>
<p>[2]. <strong>GeeksForGeeks</strong> <a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/function-overloading-c/">https://www.geeksforgeeks.org/function-overloading-c/</a></p>
<p>[3]. <strong>Wikipedia</strong> <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Complex_number#Addition_and_subtraction">https://en.wikipedia.org/wiki/Complex_number#Addition_and_subtraction</a></p>
<p>[4]. <strong>Runoob</strong> <a target="_blank" rel="noopener" href="https://www.runoob.com/cplusplus/cpp-overloading.html">https://www.runoob.com/cplusplus/cpp-overloading.html</a></p>
<p>[5]. <strong>Runoob</strong> <a target="_blank" rel="noopener" href="https://www.runoob.com/cplusplus/cpp-friend-functions.html">https://www.runoob.com/cplusplus/cpp-friend-functions.html</a></p>
<p>[6]. <strong>360Doc</strong> <a target="_blank" rel="noopener" href="http://www.360doc.com/content/19/0118/12/46601607_809660209.shtml">http://www.360doc.com/content/19/0118/12/46601607_809660209.shtml</a></p>

        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>Junhao</span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>Permalink:</span>
                        <span><a href="https://rqcker.github.io/2020/12/27/complex/">https://rqcker.github.io/2020/12/27/complex/</a></span>
                    </p>
                
                
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/Mathematics-and-Programming/"># Mathematics and Programming</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2021/03/19/bitcoin/">Principles of Blockchain and Bitcoin</a>
            
            
        </section>


    </article>
</div>

        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span>Copyright © 2019-2025 Junhao. All right reserved. | Powered by <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank"> Chic</a> </span>
    </div>
</footer>

    </div>
</body>
</html>
